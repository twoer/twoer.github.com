/*!tinyswitch v0.2 */
;(function(g){var f="tinySwitch_"+new Date();var d=function(o){var j=/(\w+)(?:([=><!$*^~]{1,2})((?:&?(?:\d+|'(?:\\'|[^'])+'))+))?/;var k=/(?:\d+|'(?:\\'|[^'])+')/g;var l=/(?:;\s*)?(?:@(\w+)\s)?((?:(?:value|index)[=><!$*^~]{1,2}(?:\d+|'(?:\\'|[^'])+')(?:&(?:\d+|'(?:\\'|[^'])+'))*)|(?:checked|selected))\s\?\s(\S+)(?:\s\:\s(\S+))?\s(?:((?:\w+\.)*\w+)~)?((?:[^;']+|'(?:\\'|[^'])+')+)/ig;var n=null;var i=[];while(n=l.exec(o)){var m=n[2].match(j);i.push({group:n[1],expr:{keyword:m[1],operator:m[2],value:g.map((m[3]||"").match(k)||[],function(q,p){if(q.indexOf("'")===0){return q.slice(1,-1)}else{return q}}).sort()},ifDo:(n[3]||"").split("&"),elseDo:(n[4]||"").split("&"),pos:(n[5]||"")?(n[5]||"").split("."):[],selector:n[6],rule:o})}return i};var b=function(m,i){var l=d(m);var n=i.attr("name");var j=n?(i.is(":radio")?i:g('[name="'+n+'"]')):i;var k=(i.is("select")?i.find(":selected"):j.filter(":checked")).map(function(){return g(this).val()}).get().sort();g.each(l,function(t,v){var w=false;var u=g(document);var s=i;var r;var o=null;var q=0;var p=function(D,A,B){var x=true;if(g.type(D)=="array"&&g.type(B)=="array"){if(D.length!=B.length){return false}g.each(D,function(E,F){if(p(F,A,B[E])===false){return x=false}});return x}var z=parseInt(D,10)||0;var y=parseInt(B,10)||0;var C=D+"";switch(A){case"==":return D==B;case"!=":return D!=B;case">":return z>y;case"<":return z<y;case"~":return new RegExp(B).test(C);case"!~":return !(new RegExp(B).test(C))}};switch(v.expr.keyword){case"selected":w=true;break;case"checked":w=i.is(":checked");break;case"value":w=p(k,v.expr.operator,v.expr.value);break}while(v.pos.length){r=v.pos.shift().match(/^(\d*)([a-zA-Z]+)$/);q=!r[1]?1:(parseInt(r[1],10)||0);if(s[r=r[2]]){while(q){s=s[r]();q--}}u=s}o=g(u).find(v.selector).add(g(u).filter(v.selector));g.each(v[(w&&v.ifDo.length)?"ifDo":"elseDo"],function(x,y){if(c[y]){c[y].call(o,o,i)}})})};var e=function(i){return g(i).each(function(){var j=g(this);if(j.data(f)){return}j.data(f,"1").on(e.eventSwitching,function(){var k=g(this);var m=k.attr("name");var l=k.find(":selected").attr(e.propRule)||k.attr(e.propRule);if(m&&h[m]){l=h[m]}b(l,k)}).on(j.is("select")?"change":"click",function(){var l="triggerHandler",k=g(this);if(k[l](e.eventBeforeSwitch)===false){return}k[l](e.eventSwitching);k[l](e.eventAfterSwitch)}).filter("select, :checkbox, :radio:checked").triggerHandler(e.eventSwitching)})};var a="input,select,textarea";var c={show:function(i){i.show()},hide:function(i){i.hide()},enabled:function(i){i.filter(a).add(i.find(a)).attr("disabled",false)},disabled:function(i){i.filter(a).add(i.find(a)).attr("disabled",true)},focus:function(i){setTimeout(function(){i[0].focus()},10)}};var h={};g.extend(e,{propRule:"data-switch",eventSwitching:"switching",eventBeforeSwitch:"beforeswitch",eventAfterSwitch:"afterswitch",formNameGroup:true,action:function(i){g.extend(c,i)},group:function(i){g.extend(h,i)}});g.fn.tinyswitch=function(){e(this);return this};g.tinyswitch=e;g(function(){var i=g();if(e.formNameGroup){i=g("[name]");g.each(h,function(j){i.filter('[name="'+j+'"])').tinyswitch()})}g("["+e.propRule+"]").each(function(){var j=g(this).attr(e.propRule);var k="";if(k=j.match(/^@(\w+)/i)){h[k[1]]=j.split(/^@\w+\s/)[1];g(i).filter('[name="'+k[1]+'"]').tinyswitch()}else{if(g(this).is("option")){g(this).closest("select").tinyswitch()}else{g(this).tinyswitch()}}})})}(jQuery));